(window.webpackJsonp=window.webpackJsonp||[]).push([[43,85],{EiDx:function(e,t,a){"use strict";a.r(t);var s=a("UMR9"),o=a.n(s),i={name:"wangeditor",data:function(){return{editorContent:""}},props:{content:{type:String},disabled:{default:!1}},watch:{content:function(e,t){this.wEditor.txt.html(e)}},methods:{getContent:function(){return this.wEditor.txt.html()},setContent:function(){this.wEditor.txt.html(this.content)},clearContent:function(){this.wEditor.txt.clear()}},mounted:function(){var e=this,t=this;this.wEditor=new o.a(this.$refs.editor);var a=this.wEditor;a.config.customUploadImg=function(e,a){var s=new FormData;s.append("file",e[0]),t.$request.upload(s).then((function(e){a(e.data.data.split(",")[1])}))},a.config.uploadImgServer="http://47.118.43.170:8080/api/cos/upload",a.config.onchange=function(t){e.editorContent=t},a.create(),a.txt.html(this.content),this.disabled?a.$textElem.attr("contenteditable",!1):a.$textElem.attr("contenteditable",!0)}},n=a("SsL+"),l=Object(n.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"editor",staticStyle:{"text-align":"left"}})])}),[],!1,null,"4084f86a",null);t.default=l.exports},TIMA:function(e,t,a){"use strict";a("sbWw")},UAmW:function(e,t,a){"use strict";a.r(t);var s=a("/umX"),o=a.n(s),i={name:"userControl",components:{wangEditor:a("EiDx").default},data:function(){var e,t=this;return{contentMessage:{message:"",short:"",mail:""},checkedKeys:[],chooseId:0,treeData:[],templateList:{inMessage:{templateChannelId:0,enabled:1,contentType:0,templateContentType:0,content:void 0},shortMessage:{templateChannelId:1,enabled:1,contentType:0,templateContentType:0,content:void 0},mailMessage:{templateChannelId:2,enabled:1,contentType:0,templateContentType:0,content:void 0}},disableEditor:!1,rules:{msgTypeCode:[{required:!0,message:"消息类型未选择",trigger:"change"}],msgTitle:[{required:!0,message:"消息标题不能为空",trigger:"change"}],content:[{required:!0,message:"内容详情不能为空",trigger:"change"}],sendTo:[{required:!0,message:"发送对象未选择",trigger:"blur"}],sendChannelIds:[{required:!0,message:"发送渠道未选择",trigger:"blur"}]},templateDate:{},message:"",msgTypeName:"请选择",isall:!1,isOne:!1,codes:{value:"msgTypeCode",label:"msgTypeName",lazy:!0,lazyLoad:function(e,a){var s=e.level;t.$request.msgTemplateTypeList({type:s,msgTypeCode:e.value}).then((function(e){if(200==e.data.status){var o=e.data.data;s>=1&&o.forEach((function(e){e.leaf=s>=1})),a(o)}else t.$message.error(e.msg)}))}},loading:!1,chooseLoading:!1,single:!0,tableOptions:{stripe:!1,highlightCurrentRow:!0,multiSelect:!1},chooseTableOptions:{stripe:!1,highlightCurrentRow:!0,multiSelect:!0,border:!0},tableOperations:[],commonSearchList:[{prop:"msgParentCode",label:"消息类型",type:"select",options:[]},{prop:"msgTypeCode",label:"消息子类型",type:"select",options:[]},{prop:"msgTitle",label:"消息标题"},{prop:"sendStatus",label:"发送状态",type:"select",options:[]},{prop:"sendChannel",label:"发送渠道",type:"select",options:[]},{prop:"isRead",label:"读取状态",type:"select",options:[]},{prop:"times",label:"发送时间段",type:"datePicker"}],chooseSearchList:[{prop:"buildingCode",label:"房间编码"},{prop:"userName",label:"用户姓名"},{prop:"certificateCode",label:"身份证号"},{prop:"mobile",label:"电话号码"},{prop:"hao",label:"门禁号"},{prop:"liveType",label:"证件类型",type:"select",options:[]},{prop:"liveStatus",label:"居住状态",type:"select",options:[]},{prop:"liveTypeId",label:"住户类型",type:"select",options:[]}],chooseParams:(e={page:1,pageSize:10,newsTitle:void 0,publishStatus:void 0},o()(e,"newsTitle",void 0),o()(e,"publishStatus",void 0),o()(e,"newsTitle",void 0),o()(e,"publishStatus",void 0),o()(e,"newsTitle",void 0),o()(e,"publishStatus",void 0),e),column:[{prop:"msgParentCodeStr",label:"消息大类"},{prop:"msgTypeCodeStr",label:"消息子类"},{prop:"msgTitle",label:"消息标题"},{prop:"isUseTemplateStr",label:"是否使用模板"},{prop:"templateCode",label:"模板编码"},{prop:"isBatchSendStr",label:"是否批量发送"},{prop:"batchCode",label:"发送批次号"},{prop:"currBatchCode",label:"发送编码"},{prop:"sendAccount",label:"接收账号"},{prop:"isReadStr",label:"是否已读"},{prop:"sendChannelStr",label:"发送渠道"},{prop:"sendStatusStr",label:"发送状态"},{prop:"sendCount",label:"发送次数"},{prop:"sendTime",label:"发送时间"},{prop:"readTime",label:"读取时间"},{prop:"sendBy",label:"发送员工"}],chooseColumn:[{prop:"userName",label:"用户姓名"},{prop:"certificateTypeIdStr",label:"证件类型"},{prop:"certificateCode",label:"证件号码"},{prop:"userSexStr",label:"性别"},{prop:"contactMethod",label:"联系人电话"},{prop:"mobile",label:"电话"},{prop:"liveStatusStr",label:"居住状态"}],tableData:[],chooseTableData:[],total:0,chooseTotal:0,codeList:[],nameList:[],selection:[],dicList:[],params:{page:1,pageSize:20,times:void 0,endTime:void 0,startTime:void 0,msgParentCode:void 0,msgTypeCode:void 0,templateCode:void 0,sendStatus:void 0,sendChannel:void 0,isRead:void 0},form:{},open:!1,chooseShow:!1,title:"",sendMsg:!1}},watch:{"params.msgParentCode":{handler:function(e,t){var a=this;e&&(this.params.msgTypeCode=void 0,this.$request.msgTemplateTypeList({type:1,msgTypeCode:e}).then((function(e){a.commonSearchList.forEach((function(t){"select"==t.type&&"msgTypeCode"==t.prop&&(t.options=[],e.data.data.map((function(e){t.options.push({label:e.msgTypeName,value:e.msgTypeCode})})))}))})))},deep:!0,immediate:!0},"form.msgTypeCode":{handler:function(e,t){var a=this,s=this;e&&2==e.length&&this.sendMsg&&this.$request.msgSendFind(e[1]).then((function(e){a.templateDate=e.data.data,a.form.templateCode=e.data.data.templateCode;var t=[],o=[];console.log(e.data.data.list),e.data.data.list.forEach((function(e){t.push(e.templateChannelId),0==e.templateChannelId&&(1==e.templateContentType?(a.contentMessage.message=e.content,a.templateList.inMessage=e,a.templateList.inMessage.content=""):a.templateList.inMessage=e),1==e.templateChannelId&&(a.templateList.shortMessage=e),2==e.templateChannelId&&(1==e.templateContentType?(a.contentMessage.mail=e.content,a.templateList.mailMessage=e,a.templateList.mailMessage.content=""):a.templateList.mailMessage=e)})),a.form.sendChannelIds=t,a.treeData.forEach((function(e){for(var a=0;a<t.length;a++)e.id==t[a]&&o.push(e)})),a.treeData=o,a.checkedKeys=t,a.$nextTick((function(){s.$refs.tree.setCheckedKeys(t)}))}))},deep:!0,immediate:!0}},created:function(){var e=this;this.$request.detailFindEnum().then((function(t){var a=t.data.data;e.chooseSearchList.forEach((function(e){"select"==e.type&&"liveStatus"==e.prop&&a.liveStatusEnum.map((function(t){e.options.push({label:t.value,value:t.type})})),"select"==e.type&&"liveTypeId"==e.prop&&a.reasonEnum.map((function(t){e.options.push({label:t.value,value:t.type})})),"select"==e.type&&"liveType"==e.prop&&a.certificateEnum.map((function(t){e.options.push({label:t.value,value:t.type})}))}))})),this.$request.msgTemplateTypeList({type:0}).then((function(t){e.commonSearchList.forEach((function(e){"select"==e.type&&"msgParentCode"==e.prop&&t.data.data.map((function(t){e.options.push({label:t.msgTypeName,value:t.msgTypeCode})}))}))})),this.$request.msgTemplateFindEnum().then((function(t){e.dicList=t.data.data,e.dicList.templateChannelEnum.map((function(t){e.treeData.push({id:t.type,label:t.value})})),e.commonSearchList.forEach((function(t){"select"==t.type&&"sendStatus"==t.prop&&e.dicList.msgSendStatus.map((function(e){t.options.push({label:e.value,value:e.type})})),"select"==t.type&&"sendChannel"==t.prop&&e.dicList.templateChannelEnum.map((function(e){t.options.push({label:e.value,value:e.type})})),"select"==t.type&&"isRead"==t.prop&&e.dicList.msgIsReadEnum.map((function(e){t.options.push({label:e.value,value:e.type})}))}))})),this.getList(),this.chooseGetList()},methods:{treeCheck:function(e,t){console.log(e,t.checkedKeys),this.checkedKeys=t.checkedKeys,this.form.sendChannelIds=t.checkedKeys},handleNodeClick:function(e){this.chooseId=e.id},choosePeople:function(){this.chooseShow=!0},checkedChange:function(e){var t=this;console.log(e),0==e.length?(this.isall=!1,this.isOne=!1):e.forEach((function(e){4==e?(t.isall=!0,t.isOne=!1):(t.isall=!1,t.isOne=!0)}))},sendMessage:function(e){this.reset(),0==e?(this.sendMsg=!1,this.open=!0,this.title="创建普通消息",this.disableEditor=!1):(this.sendMsg=!0,this.open=!0,this.title="创建模板消息",this.disableEditor=!0)},chooseSubmitForm:function(){this.form.list=this.selection.map((function(e){return e.userCode})),this.nameList=this.selection.map((function(e){return e.userName})),this.chooseShow=!1},submitForm:function(){var e=this;if(1==this.form.plainContentType){if(""==this.$refs.wangeditor.editorContent)return void this.$message.error("内容不能为空");this.form.content=this.$refs.wangeditor.editorContent}this.form.sendTo.forEach((function(t){0==t||1==t||2==t?e.form.list=void 0:e.form.list.length<=0&&e.$message.error("请选择至少一个住户")})),this.form.sendChannelIds.length<=0&&this.$message.error("请选择至少一个发送渠道");var t=this;this.$refs.form.validate((function(a){if(a)if(e.form.msgTypeCode=e.form.msgTypeCode[1],e.form.sendTo=e.form.sendTo.toString(),e.sendMsg){for(var s=0;s<e.form.sendChannelIds.length;s++)0==t.form.sendChannelIds[s]?t.form.templateList.push(t.templateList.inMessage):1==t.form.sendChannelIds[s]?t.form.templateList.push(t.templateList.shortMessage):2==t.form.sendChannelIds[s]&&t.form.templateList.push(t.templateList.mailMessage);console.log(t.form.templateList),t.form.templateList.map((function(e){e.sendChannelIds=e.templateChannelId,e.templateChannelId=void 0})),e.form.sendChannelIds=void 0,e.$request.msgSendTemplate(e.form).then((function(t){200===t.data.status?(e.msgSuccess("提交成功"),e.open=!1,e.getList(),e.$refs.form.resetFields()):e.$message.error(t.data.msg)}))}else e.form.sendChannelIds=e.form.sendChannelIds.toString(),e.$request.msgSendPlain(e.form).then((function(t){200===t.data.status?(e.msgSuccess("提交成功"),e.open=!1,e.getList(),e.$refs.form.resetFields()):e.$message.error(t.data.msg)}))}))},cancel:function(){this.open=!1,this.reset(),this.$refs.form.resetFields()},chooseCancel:function(){this.chooseShow=!1},reset:function(){this.form={msgTypeCode:"",msgTitle:"",plainContentType:0,contentType:0,content:"",list:[],templateList:[],sendTo:[],sendChannelIds:[]},this.isall=!1,this.isOne=!1,this.nameList=[],this.checkedKeys=[],this.templateDate={}},handleSelectionChange:function(e){this.selection=e},handleQuery:function(){this.params.page=1,this.params.times?(this.params.startTime=this.params.times[0],this.params.endTime=this.params.times[1],this.params.times=void 0):(this.params.startTime=void 0,this.params.endTime=void 0),this.getList()},resetQuery:function(){this.params={page:1,pageSize:20,times:void 0,endTime:void 0,startTime:void 0,msgParentCode:void 0,msgTypeCode:void 0,templateCode:void 0,sendStatus:void 0,sendChannel:void 0,isRead:void 0},this.handleQuery()},handleCheck:function(e){this.$router.push({path:"/peopleDetail",name:"peopleDetail",params:{code:e.userCode}})},getList:function(){var e=this;this.loading=!0,this.$request.msgSendDetailList(this.params).then((function(t){200===t.data.status?(e.tableData=t.data.data.rows,e.total=t.data.data.records,e.params.page=t.data.data.page,e.loading=!1):(e.loading=!1,e.$message.error(t.data.msg))}))},chooseHandleQuery:function(){this.chooseParams.page=1,this.chooseGetList()},chooseResetQuery:function(){var e;this.chooseParams=(e={page:1,pageSize:10,newsTitle:void 0,publishStatus:void 0},o()(e,"newsTitle",void 0),o()(e,"publishStatus",void 0),o()(e,"newsTitle",void 0),o()(e,"publishStatus",void 0),o()(e,"newsTitle",void 0),o()(e,"publishStatus",void 0),e),this.chooseHandleQuery()},chooseGetList:function(){var e=this;this.chooseLoading=!0,this.$request.detailAll(this.chooseParams).then((function(t){200===t.data.status?(e.chooseTableData=t.data.data.rows,e.chooseTotal=t.data.data.records,e.chooseParams.page=t.data.data.page,e.chooseLoading=!1):(e.loading=!1,e.$message.error(t.data.msg))}))}}},n=(a("TIMA"),a("SsL+")),l=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticStyle:{"padding-right":"20px",background:"#fff"}},[a("CommonSearch",{attrs:{queryParams:e.params,searchList:e.commonSearchList},on:{resetQuery:e.resetQuery,handleQuery:e.handleQuery,"update:queryParams":function(t){e.params=t},"update:query-params":function(t){e.params=t}}})],1),e._v(" "),a("div",{staticClass:"operation"},[a("div",{staticClass:"button"},[a("el-row",{staticClass:"operations-row",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:function(t){return e.sendMessage(0)}}},[e._v("发送普通消息")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:function(t){return e.sendMessage(1)}}},[e._v("发送模板消息")])],1)],1)],1),e._v(" "),a("CommonTable",{attrs:{total:e.total,loading:e.loading,defColumns:e.column,dataList:e.tableData,options:e.tableOptions,page:e.params.page,limit:e.params.pageSize,operations:e.tableOperations},on:{pagination:e.getList,"update:page":function(t){return e.$set(e.params,"page",t)},"update:limit":function(t){return e.$set(e.params,"pageSize",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,"before-close":e.cancel,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"消息类型",prop:"msgTypeCode"}},[a("el-cascader",{attrs:{placeholder:e.msgTypeName,props:e.codes},model:{value:e.form.msgTypeCode,callback:function(t){e.$set(e.form,"msgTypeCode",t)},expression:"form.msgTypeCode"}})],1),e._v(" "),e.templateDate.templateTitle&&e.sendMsg?a("el-form-item",{attrs:{label:"模板标题"}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入模板标题"},model:{value:e.templateDate.templateTitle,callback:function(t){e.$set(e.templateDate,"templateTitle",t)},expression:"templateDate.templateTitle"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"消息标题",prop:"msgTitle"}},[a("el-input",{attrs:{placeholder:"请输入消息标题"},model:{value:e.form.msgTitle,callback:function(t){e.$set(e.form,"msgTitle",t)},expression:"form.msgTitle"}})],1),e._v(" "),e.sendMsg?e._e():a("el-form-item",{attrs:{label:"内容格式：",prop:"plainContentType","label-width":"130px"}},[a("el-radio-group",{model:{value:e.form.plainContentType,callback:function(t){e.$set(e.form,"plainContentType",t)},expression:"form.plainContentType"}},e._l(e.dicList.templateContentFormatEnum,(function(t,s){return a("el-radio",{key:s,attrs:{label:t.type}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),e.sendMsg?e._e():a("el-form-item",{attrs:{label:"内容详情：",prop:"content","label-width":"130px"}},[0==e.form.plainContentType?a("el-input",{attrs:{type:"textarea",autosize:{minRows:10},placeholder:"请输入内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}}):a("wang-editor",{ref:"wangeditor",attrs:{disabled:e.disableEditor,content:e.message}})],1),e._v(" "),e.checkedKeys.length>0?a("p",{staticClass:"muban-title"},[a("span",{staticClass:"qudao"},[e._v("发送渠道")]),a("span",{staticClass:"nav"},[e._v("模板内容")])]):e._e(),e._v(" "),e.checkedKeys.length>0?a("div",{staticClass:"tree"},[a("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":"","node-key":"id","current-node-key":0,"default-checked-keys":e.checkedKeys},on:{check:e.treeCheck,"node-click":e.handleNodeClick}})],1):e._e(),e._v(" "),e.checkedKeys.length>0?a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.chooseId,expression:"chooseId == 0"}],staticStyle:{width:"81%",display:"inline-block"}},[a("el-form-item",{attrs:{label:"是否启用：",prop:"isUsing","label-width":"130px"}},[a("el-switch",{attrs:{disabled:e.disableEditor,"active-value":1,"inactive-value":0},model:{value:e.templateList.inMessage.enabled,callback:function(t){e.$set(e.templateList.inMessage,"enabled",t)},expression:"templateList.inMessage.enabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容类型：",prop:"buildingProp","label-width":"130px"}},[a("el-radio-group",{model:{value:e.templateList.inMessage.contentType,callback:function(t){e.$set(e.templateList.inMessage,"contentType",t)},expression:"templateList.inMessage.contentType"}},e._l(e.dicList.templateContentTypeEnum,(function(t,s){return a("el-radio",{key:s,attrs:{disabled:e.disableEditor,label:t.type}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容格式：",prop:"buildingProp","label-width":"130px"}},[a("el-radio-group",{model:{value:e.templateList.inMessage.templateContentType,callback:function(t){e.$set(e.templateList.inMessage,"templateContentType",t)},expression:"templateList.inMessage.templateContentType"}},e._l(e.dicList.templateContentFormatEnum,(function(t,s){return a("el-radio",{key:s,attrs:{disabled:e.disableEditor,label:t.type}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),0==e.templateList.inMessage.templateContentType?a("el-input",{attrs:{disabled:e.disableEditor,type:"textarea",autosize:{minRows:10},placeholder:"请输入内容"},model:{value:e.templateList.inMessage.content,callback:function(t){e.$set(e.templateList.inMessage,"content",t)},expression:"templateList.inMessage.content"}}):a("wang-editor",{ref:"inWangeditor",attrs:{disabled:e.disableEditor,content:e.contentMessage.message}})],1):e._e(),e._v(" "),e.checkedKeys.length>0?a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.chooseId,expression:"chooseId == 1"}],staticStyle:{width:"81%",display:"inline-block"}},[a("el-form-item",{attrs:{label:"是否启用：",prop:"isUsing","label-width":"130px"}},[a("el-switch",{attrs:{disabled:e.disableEditor,"active-value":1,"inactive-value":0},model:{value:e.templateList.shortMessage.enabled,callback:function(t){e.$set(e.templateList.shortMessage,"enabled",t)},expression:"templateList.shortMessage.enabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容类型：",prop:"buildingProp","label-width":"130px"}},[a("el-radio-group",{model:{value:e.templateList.shortMessage.contentType,callback:function(t){e.$set(e.templateList.shortMessage,"contentType",t)},expression:"templateList.shortMessage.contentType"}},e._l(e.dicList.templateContentTypeEnum,(function(t,s){return a("el-radio",{key:s,attrs:{disabled:e.disableEditor,label:t.type}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),0==e.templateList.shortMessage.templateContentType?a("el-input",{attrs:{disabled:e.disableEditor,type:"textarea",autosize:{minRows:10},placeholder:"请输入内容"},model:{value:e.templateList.shortMessage.content,callback:function(t){e.$set(e.templateList.shortMessage,"content",t)},expression:"templateList.shortMessage.content"}}):e._e()],1):e._e(),e._v(" "),e.checkedKeys.length>0?a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.chooseId,expression:"chooseId == 2"}],staticStyle:{width:"81%",display:"inline-block"}},[a("el-form-item",{attrs:{label:"是否启用：",prop:"isUsing","label-width":"130px"}},[a("el-switch",{attrs:{disabled:e.disableEditor,"active-value":1,"inactive-value":0},model:{value:e.templateList.mailMessage.enabled,callback:function(t){e.$set(e.templateList.mailMessage,"enabled",t)},expression:"templateList.mailMessage.enabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容类型：",prop:"buildingProp","label-width":"130px"}},[a("el-radio-group",{model:{value:e.templateList.mailMessage.contentType,callback:function(t){e.$set(e.templateList.mailMessage,"contentType",t)},expression:"templateList.mailMessage.contentType"}},e._l(e.dicList.templateContentTypeEnum,(function(t,s){return a("el-radio",{key:s,attrs:{disabled:e.disableEditor,label:t.type}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板内容格式：",prop:"buildingProp","label-width":"130px"}},[a("el-radio-group",{model:{value:e.templateList.mailMessage.templateContentType,callback:function(t){e.$set(e.templateList.mailMessage,"templateContentType",t)},expression:"templateList.mailMessage.templateContentType"}},e._l(e.dicList.templateContentFormatEnum,(function(t,s){return a("el-radio",{key:s,attrs:{disabled:e.disableEditor,label:t.type}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),0==e.templateList.mailMessage.templateContentType?a("el-input",{attrs:{disabled:e.disableEditor,type:"textarea",autosize:{minRows:10},placeholder:"请输入内容"},model:{value:e.templateList.mailMessage.content,callback:function(t){e.$set(e.templateList.mailMessage,"content",t)},expression:"templateList.mailMessage.content"}}):a("wang-editor",{ref:"mailWangeditor",attrs:{disabled:e.disableEditor,content:e.contentMessage.mail}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"发送对象",prop:"sendTo"}},[a("el-checkbox-group",{on:{change:e.checkedChange},model:{value:e.form.sendTo,callback:function(t){e.$set(e.form,"sendTo",t)},expression:"form.sendTo"}},[e._l(e.dicList.liveTypeEnum,(function(t,s){return a("el-checkbox",{key:s,attrs:{label:t.type,disabled:e.isall}},[e._v(e._s(t.value))])})),e._v(" "),a("el-checkbox",{attrs:{label:4,disabled:e.isOne}},[e._v("选择住户")])],2),e._v(" "),e.isall?a("div",[a("el-input",{staticClass:"elinput",attrs:{disabled:"",placeholder:e.nameList.toString()}}),e._v(" "),a("el-button",{staticClass:"btn-buka",attrs:{type:"primary"},on:{click:e.choosePeople}},[e._v("选择")])],1):e._e()],1),e._v(" "),e.sendMsg?e._e():a("el-form-item",{attrs:{label:"发送渠道",prop:"sendChannelIds"}},[a("el-checkbox-group",{model:{value:e.form.sendChannelIds,callback:function(t){e.$set(e.form,"sendChannelIds",t)},expression:"form.sendChannelIds"}},e._l(e.dicList.templateChannelEnum,(function(t,s){return a("el-checkbox",{key:s,attrs:{label:t.type,disabled:1==t.type}},[e._v(e._s(t.value))])})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"住户选择",width:"800px",visible:e.chooseShow},on:{"update:visible":function(t){e.chooseShow=t}}},[a("div",{staticStyle:{"margin-top":"-20px"}},[a("CommonSearch",{attrs:{queryParams:e.chooseParams,searchList:e.chooseSearchList},on:{resetQuery:e.chooseResetQuery,handleQuery:e.chooseHandleQuery,"update:queryParams":function(t){e.chooseParams=t},"update:query-params":function(t){e.chooseParams=t}}})],1),e._v(" "),a("CommonTable",{attrs:{total:e.chooseTotal,loading:e.chooseLoading,tooltipShow:!0,defColumns:e.chooseColumn,dataList:e.chooseTableData,options:e.chooseTableOptions,page:e.chooseParams.page,limit:e.chooseParams.pageSize},on:{pagination:e.chooseGetList,"update:page":function(t){return e.$set(e.chooseParams,"page",t)},"update:limit":function(t){return e.$set(e.chooseParams,"pageSize",t)},"selection-change":e.handleSelectionChange}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.chooseSubmitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.chooseCancel}},[e._v("取 消")])],1)],1)],1)}),[],!1,null,"4e9c84bc",null);t.default=l.exports},sbWw:function(e,t,a){}}]);
//# sourceMappingURL=43.cd8160e86d8d8a70c640.js.map