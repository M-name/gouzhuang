(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"8DEy":function(e,t,a){var i=a("MhL/"),n=a("S5+y");a("k6n4")("keys",(function(){return function(e){return n(i(e))}}))},EPZ6:function(e,t,a){e.exports={default:a("xSEk"),__esModule:!0}},PrhX:function(e,t,a){"use strict";a.r(t);var i=a("/umX"),n=a.n(i),o=a("EPZ6"),l=a.n(o),r={name:"userControl",data:function(){var e=this;return{loading:!1,single:!0,tableOptions:{stripe:!1,highlightCurrentRow:!0,multiSelect:!0},tableOperations:[{label:"修改",icon:"el-icon-edit",handler:function(t){return e.handleUpdate(t)}},{label:"查看",icon:"el-icon-tickets",handler:function(t){return e.handleCheck(t)}},{label:"解除绑定",style:{color:"#F56C6C"},icon:"iconfont icon-unbind",handler:function(t){return e.handleDelete(t)}}],commonSearchList:[{prop:"buildingCode",label:"房间编码"},{prop:"userName",label:"用户姓名"},{prop:"certificateCode",label:"证件编号"},{prop:"mobile",label:"电话号码"},{prop:"liveStatus",label:"居住状态",type:"select",options:[]},{prop:"liveTypeId",label:"住户类型",type:"select",options:[]}],column:[{prop:"buildingCode",label:"房屋编码"},{prop:"userName",label:"用户姓名"},{prop:"certificateTypeIdStr",label:"证件类型"},{prop:"liveTypeIdStr",label:"住户类型"},{prop:"certificateCode",label:"证件号码"},{prop:"userSexStr",label:"性别"},{prop:"contactMethod",label:"联系人电话"},{prop:"mobile",label:"电话"},{prop:"liveStatusStr",label:"居住状态"}],tableData:[],total:0,ids:[],form:{},dicLists:{},params:{page:1,pageSize:20,buildingCode:void 0,userName:void 0,certificateCode:void 0,mobile:void 0,liveStatus:void 0,liveTypeId:void 0}}},created:function(){var e=this;this.$request.detailFindEnum().then((function(t){e.dicLists=t.data.data;for(var a=t.data.data,i=[],n=[],o=[],l=0;l<a.liveStatusEnum.length;l++){var r={};r.value=a.liveStatusEnum[l].type,r.label=a.liveStatusEnum[l].value,i.push(r)}for(l=0;l<a.liveTypeEnum.length;l++){var s={};s.value=a.liveTypeEnum[l].type,s.label=a.liveTypeEnum[l].value,n.push(s)}for(l=0;l<a.certificateEnum.length;l++){var p={};p.value=a.certificateEnum[l].type,p.label=a.certificateEnum[l].value,o.push(p)}e.commonSearchList.forEach((function(e){"select"==e.type&&"liveStatus"==e.prop&&(e.options=i),"select"==e.type&&"liveTypeId"==e.prop&&(e.options=n),"select"==e.type&&"certificateTypeId"==e.prop&&(e.options=o)}))})),this.getList()},methods:{selectDictLabel:function(e,t){var a=[];return l()(e).map((function(i){if(e[i].value==""+t)return a.push(e[i].label),!1})),a.join("")},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length},handleQuery:function(){this.params.page=1,this.getList()},resetQuery:function(){var e;this.params=(e={page:1,pageSize:20},n()(e,"page",1),n()(e,"pageSize",20),n()(e,"buildingCode",void 0),n()(e,"userName",void 0),n()(e,"certificateCode",void 0),n()(e,"mobile",void 0),n()(e,"liveStatus",void 0),n()(e,"liveTypeId",void 0),e),this.handleQuery()},addList:function(){this.$router.push({path:"/addPeople",name:"addPeople"})},handleUpdate:function(e){this.$router.push({path:"/editPeople",name:"editPeople",params:{code:e.userCode,id:e.id}})},handleCheck:function(e){this.$router.push({path:"/peopleDetail",name:"peopleDetail",params:{code:e.userCode}})},getList:function(){var e=this;this.loading=!0,this.$request.detailAll(this.params).then((function(t){200===t.data.status?(e.tableData=t.data.data.rows,e.total=t.data.data.records,e.params.page=t.data.data.page,e.loading=!1):(e.loading=!1,e.$message.error(t.data.msg))}))},handleDelete:function(e){var t=this;this.ids[0],this.$confirm("是否确认解除绑定?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$request.buildingUnbind(e.id).then((function(e){200===e.data.status?(t.getList(),t.msgSuccess("解除成功")):t.$message.error(e.data.msg)}))})).catch((function(){}))}}},s=(a("vhND"),a("SsL+")),p=Object(s.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticStyle:{"padding-right":"20px",background:"#fff"}},[a("CommonSearch",{attrs:{queryParams:e.params,searchList:e.commonSearchList},on:{resetQuery:e.resetQuery,handleQuery:e.handleQuery,"update:queryParams":function(t){e.params=t},"update:query-params":function(t){e.params=t}}})],1),e._v(" "),a("div",{staticClass:"operation"},[a("div",{staticClass:"button"},[a("el-row",{staticClass:"operations-row",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:e.addList}},[e._v("新增")])],1)],1)],1),e._v(" "),a("CommonTable",{attrs:{total:e.total,loading:e.loading,defColumns:e.column,dataList:e.tableData,options:e.tableOptions,page:e.params.page,limit:e.params.pageSize,operations:e.tableOperations},on:{pagination:e.getList,"update:page":function(t){return e.$set(e.params,"page",t)},"update:limit":function(t){return e.$set(e.params,"pageSize",t)},"selection-change":e.handleSelectionChange}})],1)])}),[],!1,null,"5277aa54",null);t.default=p.exports},jfsQ:function(e,t,a){},k6n4:function(e,t,a){var i=a("fCtq"),n=a("zpmP"),o=a("mf7F");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],l={};l[e]=t(a),i(i.S+i.F*o((function(){a(1)})),"Object",l)}},vhND:function(e,t,a){"use strict";a("jfsQ")},xSEk:function(e,t,a){a("8DEy"),e.exports=a("zpmP").Object.keys}}]);
//# sourceMappingURL=20.7c0c59d15aa619009c49.js.map