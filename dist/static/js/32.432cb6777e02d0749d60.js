(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"8DEy":function(e,t,a){var r=a("MhL/"),i=a("S5+y");a("k6n4")("keys",(function(){return function(e){return i(r(e))}}))},EPZ6:function(e,t,a){e.exports={default:a("xSEk"),__esModule:!0}},fdFw:function(e,t,a){"use strict";a("u0/l")},k6n4:function(e,t,a){var r=a("fCtq"),i=a("zpmP"),s=a("mf7F");e.exports=function(e,t){var a=(i.Object||{})[e]||Object[e],o={};o[e]=t(a),r(r.S+r.F*s((function(){a(1)})),"Object",o)}},qi68:function(e,t,a){"use strict";a.r(t);var r=a("EPZ6"),i=a.n(r),s=a("omC7"),o=a.n(s),l=a("0qRe"),p={name:"listDetail",components:{treeTransfer:a.n(l).a},data:function(){return{mode:"transfer",title:["未选择","已选择"],toData:[],fromData:[],radio:"0",type:void 0,form:{},activeName:"first",parentCode:void 0}},mounted:function(){var e=this;this.$route.params.code?(localStorage.setItem("details",o()(this.$route.params)),this.parentCode=this.$route.params.code,this.type=this.$route.params.type):(this.parentCode=JSON.parse(localStorage.getItem("details")).code,this.type=JSON.parse(localStorage.getItem("details")).type),this.$request.selectOrderDetails(this.parentCode).then((function(t){var a;200==t.data.status&&function(){1==e.type?e.activeName="first":e.activeName="second",e.form=t.data.data;var r=t.data.data.manageUserDtoMap,s={},o=[];if(t.data.data.manageUserDtoMap)for(a=0;a<i()(r).length;a++)s.id=a+1,s.pid=0,s.children=[],s.label=i()(r)[a],r[i()(r)[a]].forEach((function(e){s.children.push({pid:a+1,id:a+1+"-"+e.id,label:e.realName,code:e.managerCode})})),o.push(s),s={};e.fromData=o}()}))},methods:{cancel:function(e){this.$router.go(-1),this.$store.dispatch("removeTab",{tabItem:e,fullPath:this.$route.fullPath,router:this.$router})},submit:function(e){for(var t=this,a=[],r=this,i=0;i<this.toData.length;i++)this.toData[i].children.length&&this.toData[i].children.forEach((function(e){a.push(e.code)}));"0"==this.radio&&a.length>1?this.$message.error("单人派单只能提交一个人"):a.length<=0?this.$message.error("请选择派单人员"):(this.form.manageCodeList=a,this.form.publishType=Number(this.radio),this.$request.repairUpdateRepair(this.form).then((function(a){200==a.data.status?(r.$message.success("提交成功"),r.$router.go(-1),r.$store.dispatch("removeTab",{tabItem:e,fullPath:t.$route.fullPath,router:t.$router})):r.$message.error(a.data.msg)})))}}},n=(a("fdFw"),a("SsL+")),m=Object(n.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contant"},[a("i",{staticClass:"el-icon-menu",staticStyle:{"font-size":"16px",color:"#409eff"}}),e._v(" "),a("span",{staticClass:"info"},[e._v("报修信息")]),e._v(" "),a("el-divider"),e._v(" "),a("el-form",{attrs:{"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报修时间:"}},[a("span",[e._v(e._s(e.form.createTime))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报修编号:"}},[a("span",[e._v(e._s(e.form.repaireCode))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报修类型:"}},[a("span",[e._v(e._s(e.form.repairType))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报修用户:"}},[a("span",[e._v(e._s(e.form.userName))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"处理状态:"}},[a("span",[e._v(e._s(e.form.repaireStatu))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报修房屋:"}},[a("span",[e._v(e._s(e.form.buildingCode))])])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"报修描述:"}},[a("span",[e._v(e._s(e.form.repairDesc))])]),e._v(" "),e.form.repaireImageList?a("el-form-item",{attrs:{"label-width":"0px"}},e._l(e.form.repaireImageList,(function(t){return a("el-image",{key:t,staticStyle:{width:"100px",height:"100px","margin-right":"10px"},attrs:{src:t,"preview-src-list":e.form.repaireImageList}})})),1):e._e()],1),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[1==e.type?a("el-tab-pane",{attrs:{label:"派单操作",name:"first"}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("span",[e._v("派单操作")]),e._v(" "),a("el-radio-group",{attrs:{size:"mini"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{attrs:{label:"0"}},[e._v("单人派单")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("报修抢单")])],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"40px",width:"600px"}},[a("tree-transfer",{attrs:{title:e.title,from_data:e.fromData,to_data:e.toData,mode:e.mode,height:"400px",filter:"",openAll:""}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticStyle:{display:"inline-block"},on:{click:function(t){return e.cancel(e.$store.getters.rightNav)}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary"},on:{click:function(t){return e.submit(e.$store.getters.rightNav)}}},[e._v("提交")])],1)]):e._e(),e._v(" "),0==e.type||1==e.type||2==e.type?a("el-tab-pane",{attrs:{label:"报修进展",name:"second"}},[a("div",{staticStyle:{"margin-top":"20px","padding-left":"10px"}},[a("el-timeline",e._l(e.form.repaireProgresses,(function(t,r){return a("el-timeline-item",{key:r,attrs:{type:"primary",timestamp:t.progressTime}},[e._v("\n              "+e._s(t.progressStatus)+"\n            ")])})),1)],1)]):e._e(),e._v(" "),2==e.type?a("el-tab-pane",{attrs:{label:"报修评价",name:"third"}},[e.form.repaireAppraise?a("el-form",[a("el-form-item",{attrs:{label:"评价时间："}},[a("p",[e._v(e._s(e.form.repaireAppraise.appraiseTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"报修整体评价："}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.form.repaireAppraise.appraiseScore,callback:function(t){e.$set(e.form.repaireAppraise,"appraiseScore",t)},expression:"form.repaireAppraise.appraiseScore"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"报修服务评价："}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.form.repaireAppraise.timelyScore,callback:function(t){e.$set(e.form.repaireAppraise,"timelyScore",t)},expression:"form.repaireAppraise.timelyScore"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"服务态度："}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.form.repaireAppraise.attitudeScore,callback:function(t){e.$set(e.form.repaireAppraise,"attitudeScore",t)},expression:"form.repaireAppraise.attitudeScore"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"处理效果："}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.form.repaireAppraise.effectScore,callback:function(t){e.$set(e.form.repaireAppraise,"effectScore",t)},expression:"form.repaireAppraise.effectScore"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"评价详情："}},[a("p",[e._v(e._s(e.form.repaireAppraise.appariseDesc))])])],1):e._e()],1):e._e(),e._v(" "),2==e.type?a("el-tab-pane",{attrs:{label:"回访评价",name:"fourth"}},[e.form.repaireRevisit?a("el-form",[a("el-form-item",{attrs:{label:"回访时间："}},[a("p",[e._v(e._s(e.form.repaireRevisit.revisitTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"回访评价："}},[a("p",[e._v(e._s(e.form.repaireRevisit.revisitContent))])]),e._v(" "),a("el-form-item",{attrs:{label:"回访人："}},[a("p",[e._v(e._s(e.form.repaireRevisit.createBy))])])],1):e._e()],1):e._e()],1)],1)],1)}),[],!1,null,"35cf2a4c",null);t.default=m.exports},"u0/l":function(e,t,a){},xSEk:function(e,t,a){a("8DEy"),e.exports=a("zpmP").Object.keys}}]);
//# sourceMappingURL=32.432cb6777e02d0749d60.js.map