(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"65x1":function(e,a,t){"use strict";t("dWB/")},"8DEy":function(e,a,t){var r=t("MhL/"),i=t("S5+y");t("k6n4")("keys",(function(){return function(e){return i(r(e))}}))},EPZ6:function(e,a,t){e.exports={default:t("xSEk"),__esModule:!0}},KrDC:function(e,a,t){"use strict";t.r(a);var r=t("EPZ6"),i=t.n(r),o={name:"userControl",data:function(){var e=this;return{loading:!1,tableOptions:{stripe:!1,highlightCurrentRow:!0,multiSelect:!1},tableOperations:[{label:"查看",icon:"el-icon-tickets",handler:function(a){return e.handleUpdate(a)}}],commonSearchList:[{prop:"buildingCode",label:"房屋编码 "},{prop:"userName",label:" 住户姓名"},{prop:"mobile",label:"住户手机"},{prop:"repaireCode",label:"工单编号"},{prop:"times",label:"受理时间",type:"datePicker"}],column:[{prop:"createTime",label:"提交时间 "},{prop:"repaireCode",label:"工单编号",widht:"180"},{prop:"repairType",label:"报修类型",widht:"180"},{prop:"buildingCodeStr",label:"报修房屋"},{prop:"userName",label:"住户信息",render:function(e,a){return e("div",[a.row.userName+"/ "+a.row.mobile])}},{prop:"repaireStatus",label:"处理状态",formatter:function(a,t,r){return e.selectDictLabel(e.roleStatus,a.repaireStatus)}},{prop:"publishTypeValue",label:"派发策略"},{prop:"managerName",label:"维修员工"},{prop:"finishTime",label:"完成时间"},{prop:"appraiseStatusValue",label:"评价状态"}],tableData:[],total:0,roleStatus:[],params:{page:1,pageSize:20,managerName:JSON.parse(localStorage.getItem("userInfo")).userName,mobile:void 0,repaireCode:void 0,buildingCode:void 0,times:void 0,endTime:void 0,startTime:void 0}}},created:function(){var e=this;this.$request.findRepairAlleuems().then((function(a){for(var t=[],r=a.data.data,i=0;i<r.repaireProgressEnum.length;i++){var o={};o.value=r.repaireProgressEnum[i].type,o.label=r.repaireProgressEnum[i].value,t.push(o)}e.roleStatus=t})),this.getList()},methods:{selectDictLabel:function(e,a){var t=[];return i()(e).map((function(r){if(e[r].value==""+a)return t.push(e[r].label),!1})),t.join("")},handleQuery:function(){this.params.page=1,this.params.times?(this.params.startTime=this.params.times[0],this.params.endTime=this.params.times[1],this.params.times=void 0):(this.params.startTime=void 0,this.params.endTime=void 0),this.getList()},resetQuery:function(){this.params={page:1,pageSize:20,managerName:JSON.parse(localStorage.getItem("userInfo")).userName,mobile:void 0,repaireCode:void 0,buildingCode:void 0,times:void 0,endTime:void 0,startTime:void 0},this.handleQuery()},getList:function(){var e=this;this.loading=!0,this.$request.selectByCodePage(this.params).then((function(a){200===a.data.status?(e.tableData=a.data.data.rows,e.total=a.data.data.records,e.params.page=a.data.data.page,e.loading=!1):(e.$message.error(a.data.msg),e.loading=!1)}))},handleUpdate:function(e){this.$router.push({path:"/detailInfo",name:"detailInfo",params:{type:2,code:e.repaireCode}})}}},s=(t("65x1"),t("SsL+")),n=Object(s.a)(o,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("div",{staticStyle:{"padding-right":"20px",background:"#fff"}},[t("CommonSearch",{attrs:{queryParams:e.params,searchList:e.commonSearchList},on:{resetQuery:e.resetQuery,handleQuery:e.handleQuery,"update:queryParams":function(a){e.params=a},"update:query-params":function(a){e.params=a}}})],1),e._v(" "),t("div",{staticClass:"operation"},[t("CommonTable",{attrs:{total:e.total,loading:e.loading,defColumns:e.column,dataList:e.tableData,options:e.tableOptions,page:e.params.page,limit:e.params.pageSize,operations:e.tableOperations},on:{pagination:e.getList,"update:page":function(a){return e.$set(e.params,"page",a)},"update:limit":function(a){return e.$set(e.params,"pageSize",a)}}})],1)])}),[],!1,null,"6db4c86c",null);a.default=n.exports},"dWB/":function(e,a,t){},k6n4:function(e,a,t){var r=t("fCtq"),i=t("zpmP"),o=t("mf7F");e.exports=function(e,a){var t=(i.Object||{})[e]||Object[e],s={};s[e]=a(t),r(r.S+r.F*o((function(){t(1)})),"Object",s)}},xSEk:function(e,a,t){t("8DEy"),e.exports=t("zpmP").Object.keys}}]);
//# sourceMappingURL=30.7f78f51fd69ea01ef9c2.js.map