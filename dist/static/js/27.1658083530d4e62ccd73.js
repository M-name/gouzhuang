(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"8DEy":function(t,e,a){var n=a("MhL/"),o=a("S5+y");a("k6n4")("keys",(function(){return function(t){return o(n(t))}}))},EPZ6:function(t,e,a){t.exports={default:a("xSEk"),__esModule:!0}},QS8g:function(t,e,a){"use strict";a("XszO")},XszO:function(t,e,a){},k6n4:function(t,e,a){var n=a("fCtq"),o=a("zpmP"),s=a("mf7F");t.exports=function(t,e){var a=(o.Object||{})[t]||Object[t],i={};i[t]=e(a),n(n.S+n.F*s((function(){a(1)})),"Object",i)}},vW1t:function(t,e,a){"use strict";a.r(e);var n=a("EPZ6"),o=a.n(n),s={name:"userControl",data:function(){return{loading:!1,single:!0,tableOptions:{stripe:!1,highlightCurrentRow:!0,multiSelect:!0},tableOperations:[],commonSearchList:[{prop:"mobile",label:"手机号"},{prop:"email",label:"电子邮箱"},{prop:"roleCode",label:"用户角色",type:"select",options:[]},{prop:"userStatus",label:"用户状态",type:"select",options:[],optionValue:"value",optionLabel:"label"}],open:!1,title:"",column:[{prop:"mobile",label:"手机号"},{prop:"nickname",label:"昵称",widht:"180"},{prop:"email",label:"电子邮箱",widht:"180"},{prop:"roleCode",label:"用户角色"},{prop:"userStatus",label:"用户状态"},{prop:"createTime",label:"注册时间"}],tableData:[],total:0,form:{},ids:[],params:{page:1,pageSize:20,mobile:void 0,realName:void 0,roleCode:void 0,userStatus:void 0}}},created:function(){var t=this;this.$request.findEnum().then((function(e){for(var a=[],n=[],s=e.data.data,i=0;i<o()(s.roleMap).length;i++){var r={};r.value=o()(s.roleMap)[i],r.label=s.roleMap[o()(s.roleMap)[i]],a.push(r)}for(i=0;i<o()(s.userStatusMap).length;i++){var l={};l.value=o()(s.userStatusMap)[i],l.label=s.userStatusMap[o()(s.userStatusMap)[i]],n.push(l)}t.commonSearchList.forEach((function(t){"select"==t.type&&"userStatus"==t.prop&&(t.options=n),"select"==t.type&&"roleCode"==t.prop&&(t.options=a)}))})),this.getList()},methods:{handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!=t.length},handleQuery:function(){this.params.page=1,this.getList()},resetQuery:function(){this.params={page:1,pageSize:20,mobile:void 0,realName:void 0,roleCode:void 0,userStatus:void 0},this.handleQuery()},handleUpdate:function(t){var e=this;this.reset();var a=t.id;this.$request.deptFinDict(a).then((function(t){e.form=t.data.data,e.open=!0,e.title="修改角色"}))},cancel:function(){this.open=!1,this.reset(),this.$refs.form.resetFields()},submitForm:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.form.createTime?t.$request.deptUpdateDict(t.form).then((function(e){200===e.data.status&&(t.msgSuccess("修改成功"),t.open=!1,t.getList(),t.$refs.form.resetFields())})):t.$request.deptCreate(t.form).then((function(e){200===e.data.status&&(t.msgSuccess("新增成功"),t.open=!1,t.getList(),t.$refs.form.resetFields())})))}))},reset:function(){this.form={deptCode:"",deptDesc:"",deptName:""}},addList:function(){this.reset(),this.open=!0,this.title="添加用户"},getList:function(){var t=this;this.loading=!0,this.$request.userAll(this.params).then((function(e){t.tableData=e.data.data.rows,t.total=e.data.data.records,t.params.page=e.data.data.page,t.loading=!1})).catch((function(t){console.log(t)}))},handleDelete:function(t){var e=this;console.log(this.ids[0]),this.$confirm("是否确认删除该用户?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$request.deptDelDict(t.id).then((function(){e.getList(),e.msgSuccess("删除成功")}))})).catch((function(){}))}}},i=(a("QS8g"),a("SsL+")),r=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticStyle:{"padding-right":"20px",background:"#fff"}},[a("CommonSearch",{attrs:{queryParams:t.params,searchList:t.commonSearchList},on:{resetQuery:t.resetQuery,handleQuery:t.handleQuery,"update:queryParams":function(e){t.params=e},"update:query-params":function(e){t.params=e}}})],1),t._v(" "),a("div",{staticClass:"operation"},[a("CommonTable",{attrs:{total:t.total,loading:t.loading,defColumns:t.column,dataList:t.tableData,options:t.tableOptions,page:t.params.page,limit:t.params.pageSize,operations:t.tableOperations},on:{pagination:t.getList,"update:page":function(e){return t.$set(t.params,"page",e)},"update:limit":function(e){return t.$set(t.params,"pageSize",e)},"selection-change":t.handleSelectionChange}})],1)])}),[],!1,null,"5d33ddae",null);e.default=r.exports},xSEk:function(t,e,a){a("8DEy"),t.exports=a("zpmP").Object.keys}}]);
//# sourceMappingURL=27.1658083530d4e62ccd73.js.map